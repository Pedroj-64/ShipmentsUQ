<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.chart.PieChart?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.LineChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.geometry.Insets?>

<ScrollPane xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="co.edu.uniquindio.sameday.shipmentsuqsameday.viewController.AdminMetricsViewController"
            stylesheets="@../css/metrics.css"
            fitToWidth="true"
            fitToHeight="true"
            pannable="true">
    <content>
        <BorderPane prefWidth="1000.0" prefHeight="700.0">
            <!-- Encabezado -->
            <top>
                <VBox alignment="CENTER" styleClass="header">
                    <padding>
                        <Insets top="20" right="20" bottom="20" left="20" />
                    </padding>
                    <Label text="Dashboard de Métricas" styleClass="header-text" />
                    <Label text="Información y estadísticas del sistema" styleClass="subtitle-text" />
                </VBox>
            </top>

            <!-- Contenido principal -->
            <center>
                <VBox spacing="20">
                    <padding>
                        <Insets top="20" right="20" bottom="20" left="20" />
                    </padding>

                    <!-- Tarjetas de métricas -->
                    <HBox spacing="15">
                        <VBox styleClass="metric-box">
                            <padding>
                                <Insets top="10" right="10" bottom="10" left="10" />
                            </padding>
                            <Label text="Envíos Totales" styleClass="metric-title" />
                            <Label fx:id="lbl_totalShipments" text="0" styleClass="metric-value" />
                        </VBox>
                        
                        <VBox styleClass="metric-box">
                            <padding>
                                <Insets top="10" right="10" bottom="10" left="10" />
                            </padding>
                            <Label text="Entregados" styleClass="metric-title" />
                            <Label fx:id="lbl_deliveredShipments" text="0" styleClass="metric-value" />
                        </VBox>
                    </HBox>
                    
                    <!-- Gráficos -->
                    <HBox spacing="15">
                        <!-- Gráfico de estados de envíos -->
                        <VBox HBox.hgrow="ALWAYS" styleClass="chart-container">
                            <Label text="Estados de Envíos" styleClass="chart-title" />
                            <PieChart fx:id="chart_shipmentStatus" />
                        </VBox>
                        
                        <!-- Gráfico de envíos por mes -->
                        <VBox HBox.hgrow="ALWAYS" styleClass="chart-container">
                            <Label text="Envíos por Mes" styleClass="chart-title" />
                            <BarChart fx:id="chart_shipmentsByMonth">
                                <xAxis>
                                    <CategoryAxis side="BOTTOM" />
                                </xAxis>
                                <yAxis>
                                    <NumberAxis side="LEFT" />
                                </yAxis>
                            </BarChart>
                        </VBox>
                    </HBox>
                    
                    <!-- Gráfico de ingresos -->
                    <HBox spacing="15">
                        <VBox HBox.hgrow="ALWAYS" styleClass="chart-container">
                            <Label text="Ingresos por Mes" styleClass="chart-title" />
                            <LineChart fx:id="chart_revenueByMonth">
                                <xAxis>
                                    <CategoryAxis side="BOTTOM" />
                                </xAxis>
                                <yAxis>
                                    <NumberAxis side="LEFT" />
                                </yAxis>
                            </LineChart>
                        </VBox>
                    </HBox>
                </VBox>
            </center>
            
            <!-- Pie de página -->
            <bottom>
                <HBox alignment="CENTER_RIGHT" styleClass="footer">
                    <padding>
                        <Insets top="10" right="20" bottom="10" left="20" />
                    </padding>
                    <Label text="Datos actualizados: Hoy" />
                </HBox>
            </bottom>
        </BorderPane>
    </content>
</ScrollPane>